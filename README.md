# 介绍

基于京东联盟 api 实现的商品推广和微信购物返利公众号

# 使用说明

- 编辑`/jd/config.py`，提供`app key`，`secret key`，`联盟 id`，`广告位 id`
- 编辑`/wx/config.py`，提供微信公众号`token`
- 执行`/sql/rebate.sql` 脚本，创建数据库表
- 修改`/lib/db.py`，提供数据库连接参数
- 执行`/webapp.py`，访问`http://localhost:8080/` 即可体验

# 功能说明

- 京东商品推广和转链
  - 定时从京东联盟同步商品信息，存储到数据库，并清理已失效商品信息
  - 已入库商品查询
  - 京东商品链接转推广链接能力
- 微信公众号事件响应
  - 粉丝订阅时返回自定义文案
- 微信公众号客服消息响应
  - 识别消息内容是否京东商品链接，如果是商品链接，会转换为推广链接并返回
- 短网址支持
  - 如果没有京东社交媒体转链接口权限，可以生成个人站点短网址，通过该短网址跳转到京东推广落地页，实现公众号推广
  - 定时清理已过期短网址

# 环境

- mysql 8.0.15
- python 3
  - requests
  - dbutils
  - flask
  - flask	_apscheduler

# 联系

有任何问题，欢迎联系我 refusea@163.com
